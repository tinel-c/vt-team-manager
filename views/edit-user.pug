doctype html
//
  =========================================================
  * VT Team manager
  =========================================================
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
  meta(name='description' content='Manage your team with the all in one dashboard')
  meta(name='author' content='Constantin Bogza')
  meta(name='base-author' content='Creative Tim')

  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous')
  // Add the slick-theme.css if you want default styling
  link(rel='stylesheet' type='text/css' href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css')
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css')
  link(rel='stylesheet' href='https://use.fontawesome.com/releases/v5.15.3/css/all.css' integrity='sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk' crossorigin='anonymous')
  link(rel='stylesheet' href='./assets/css/calendar.css')
  link(rel='stylesheet' href='./assets/css/error-too-many-apps.css')
  //- script(src='./assets/js/selectorEmail.js')
  title Edit user's profile
  // Favicon
  link(rel='icon' href='../assets/img/brand/favicon.ico' type='image/ico')
  // Fonts
  link(rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700')
  // Icons
  link(rel='stylesheet' href='../assets/vendor/nucleo/css/nucleo.css' type='text/css')
  link(rel='stylesheet' href='../assets/vendor/@fortawesome/fontawesome-free/css/all.min.css' type='text/css')
  // Argon CSS
  link(rel='stylesheet' href='../assets/css/argon.css?v=1.2.0' type='text/css')
  link(rel='stylesheet' href='../assets/css/search-box.css' type='text/css')
  link(rel='stylesheet' href='../assets/css/admin-add-user.css' type='text/css')
  link(rel='stylesheet' href='../assets/css/admin-edit-user.css' type='text/css')
  link(rel='stylesheet' href='../assets/css/edit-user.css' type='text/css')
// Sidenav
nav#sidenav-main.sidenav.navbar.navbar-vertical.fixed-left.navbar-expand-xs.navbar-light.bg-white
  .scrollbar-inner
    // Brand
    .sidenav-header.align-items-center
      a.navbar-brand(href='/dashboard')
        img.navbar-brand-img(src='assets/img/brand/vt-team-manager.png' alt='...')
    .navbar-inner
      // Collapse
      #sidenav-collapse-main.collapse.navbar-collapse
        // Nav items
        ul.navbar-nav
          li.nav-item
            a.nav-link(href='/dashboard')
              i.ni.ni-tv-2.text-primary
              span.nav-link-text Dashboard
          - if (sessionUser.role == "admin" || sessionUser.role == "esh manager")
            li.nav-item
              a.nav-link(href='/ssm-su')
                i.ni.ni-support-16.text-orange
                span.nav-link-text SSM and SU
          li.nav-item
            a.nav-link(href='/medical-check')
              i.ni.ni-ambulance.text-primary
              span.nav-link-text Medical check
          li.nav-item
            a.nav-link(href='/programare-MM')
              i.ni.ni-ambulance2.text-primary
              span.nav-link-text Programare MM
          - if (sessionUser.role == "admin" || sessionUser.role == "esh manager")
            li.nav-item
              a.nav-link(href='/competency-management')
                i.ni.ni-bullet-list-67.text-default
                span.nav-link-text Competecy management
          - if (sessionUser.role == "team leader" || sessionUser.role == "esh manager" || sessionUser.role == "admin")
            li.nav-item
              a.nav-link(href='/team-leader-page')
                i.ni.team-leader-icon.text-primary
                span.nav-link-text Team leader's page
          - if (sessionUser.role == "admin" || sessionUser.role == "esh manager")
            li.nav-item
              a.nav-link(href='/admin-page')
                i.ni.admin-icon.text-primary
                span.nav-link-text Admin's page
        // Divider
        hr.my-3
        // Heading
        h6.navbar-heading.p-0.text-muted
          span.docs-normal Account management

        case userLoggedIn
          when true
            ul.navbar-nav
              li#profile.nav-item
                a.nav-link(href='/profile')
                  i.ni.ni-single-02.text-yellow
                  span.nav-link-text Profile
            break
          default
            ul.navbar-nav
              li#login.nav-item
                a.nav-link(href='/login')
                  i.ni.ni-key-25.text-info
                  span.nav-link-text Login
// Main content
.main-content
  // Header
  .header.bg-gradient-primary.py-7.py-lg-5.pt-lg-5
    .container
      .thisIsAnError #{messages.error}
      .header-body.text-center.mb-7
        .row.justify-content-center
          .col-xl-5.col-lg-6.col-md-8.px-5
    .separator.separator-bottom.separator-skew.zindex-100
      svg(x='0' y='0' viewbox='0 0 2560 100' preserveaspectratio='none' version='1.1' xmlns='http://www.w3.org/2000/svg')
  // Page content
  form(role='form' action="/edit-user" method="post")
    .container
      h1 Edit your profile
      p Hello, #{currentUser.Formal_Name}, here you can edit your profile
      hr
      input.form-control.hidden-formal-name-input(type='text' name='Formal_Name' value=currentUser.Formal_Name)
      input.form-control.hidden-formal-name-input(type='text' name='lastMMinput' value=currentUser.Last_MM id="lastMMinput")
      .fourColumnsGrid
        div
          label(for='First_Name')
            b First Name
          input.form-control(id="firstName" type='text' placeholder="Enter employee's first name" name='firstName' value=currentUser.First_Name required)
        div
          label(for='Family_Name')
            b Family Name
          input.form-control(id="familyName" type='text' placeholder="Enter employee's family name" name='familyName' value=currentUser.Family_Name required='')
        div
          label(for='email_angajat')
            b Email
          input.form-control(id="email2" type='text' placeholder="Enter employee's email" name='email_angajat' value=currentUser.email_angajat required)
        div
          label(for='gid')
            b Gid
          input.form-control(id="gid" type='text' placeholder="Enter employee's gid" name='Gid' value=currentUser.Gid required)
      br
      .twoColumnsGrid
        div
          label(for='meh')
            b Supervisor
          div(class=".dropdown")
            div(class="options")
              input.selector-bg-color.supervisorSelector(id="supervisor2" name="Supervisor" list='brow' value=currentUser.Supervisor)
              datalist#brow
                each user in usersLists
                  option.text-center(id="selectedOption" value=user.Formal_Name) #{user.Formal_Name}


          //- label(for='supervisor2')
          //-   b Supervisor
          //- div(class="dropdownsearch")
          //-   div(class="options")
          //-     select.selector-bg-color(id="supervisor2" name="Supervisor" placeholder="Select your name")
          //-       each user in usersLists
          //-         option.text-center(id="selectedOption" value=user.Formal_Name) #{user.Formal_Name}
        div
          label(for='email_angajat')
            b Supervisor's email
          input.form-control(id="supervisorEmail" type='text' placeholder="Enter employee's email" name='email_superior' value=currentUser.email_superior required='')
      br
      .twoColumnsGrid
        div
          div
            label(for='Last_MM')
              b Last medical check (mm/dd/yyyy)
            input.form-control.popup-input.selector-bg-color.areaText(id="lastMM" type='date' name='Last_MM')
            br
          div 
            label(for='Next_MM')
              b Next medical check (dd-mmm-yyyy)
            p.form-control.popup-input.selector-bg-color.areaText(id="nextMM" name='Next_MM') #{next_MM}
            //- input.form-control.popup-input.selector-bg-color.areaText(id="nextMM" type='date' name='Next_MM')
        div
          div
            label(for='Restrictions')
              b Medical restrictions
            textarea.form-control.selector-bg-color.areaText(id="restrictions", name="Restrictions", cols="30", rows="6") #{currentUser.Medical_limitations}
      br
      br
      
      br
      button#sign-in.btn.btn-primary.my-4(type='submit' value="Submit") Edit account

// Core
script(src='../assets/vendor/jquery/dist/jquery.min.js')
script(src='../assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js')
script(src='../assets/vendor/js-cookie/js.cookie.js')
script(src='../assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js')
script(src='../assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js')
// Argon JS
script(src='../assets/js/argon.js?v=1.2.0')
// Add custom js
script(src='../assets/js/auth.js')
//script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")

script(src='../assets/js/search-box.js')
script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous')
script(type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js')
//- script(src='./assets/js/edit-user.js')
//- script(src='./assets/js/edit-page-date-conversion.js')
script(src='./assets/js/self-edit-user.js')